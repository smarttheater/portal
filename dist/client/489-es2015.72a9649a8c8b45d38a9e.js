"use strict";(self.webpackChunksmart_theater_portal=self.webpackChunksmart_theater_portal||[]).push([[489],{76489:function(t,n,e){e.r(n),e.d(n,{AuthModule:function(){return Z}});var i=e(38583),o=e(41365),r=e(91060),c=e(26816),s=e(39507),a=e(37608),u=e(28284),p=e(4247),h=e(33018),l=e(39668),d=function(t,n,e,i){return new(e||(e=Promise))(function(o,r){function c(t){try{a(i.next(t))}catch(n){r(n)}}function s(t){try{a(i.throw(t))}catch(n){r(n)}}function a(t){t.done?o(t.value):function(t){return t instanceof e?t:new e(function(n){n(t)})}(t.value).then(c,s)}a((i=i.apply(t,n||[])).next())})};class f{constructor(t,n,e){this.cinerino=t,this.router=n,this.actionService=e,this.environment=(0,a.z)()}ngOnInit(){return d(this,void 0,void 0,function*(){try{yield this.cinerino.getServices(),this.actionService.user.initialize({login:!0}),this.router.navigate([this.environment.BASE_URL])}catch(t){yield this.cinerino.signIn()}})}}f.\u0275fac=function(t){return new(t||f)(h.Y36(p.y),h.Y36(r.F0),h.Y36(u.cw))},f.\u0275cmp=h.Xpm({type:f,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.action.auth.CheckLogin",3,"isLoading"]],template:function(t,n){1&t&&h._UZ(0,"app-loading",0),2&t&&h.Q6J("isLoading",!0)},directives:[l.N],styles:[""]});var m=e(54463),v=e(61533),g=e(19974),w=function(t,n,e,i){return new(e||(e=Promise))(function(o,r){function c(t){try{a(i.next(t))}catch(n){r(n)}}function s(t){try{a(i.throw(t))}catch(n){r(n)}}function a(t){t.done?o(t.value):function(t){return t instanceof e?t:new e(function(n){n(t)})}(t.value).then(c,s)}a((i=i.apply(t,n||[])).next())})};class y{constructor(t,n,e,i){this.store=t,this.utilService=n,this.actionService=e,this.router=i,this.environment=(0,a.z)()}ngOnInit(){return w(this,void 0,void 0,function*(){this.isLoading=this.store.pipe((0,m.Ys)(g.Kv)),this.utilService.loadStart({process:"load"}),this.actionService.user.initialize({login:!0});try{const t=v.F.Z.getAuthRedirectUrl();if(v.F.Z.removeAuthRedirectUrl(),void 0===t)return void this.router.navigate([this.environment.BASE_URL]);location.href=t}catch(t){this.router.navigate(["/error"])}})}}y.\u0275fac=function(t){return new(t||y)(h.Y36(m.yh),h.Y36(u.fK),h.Y36(u.cw),h.Y36(r.F0))},y.\u0275cmp=h.Xpm({type:y,selectors:[["app-auth-signin"]],decls:2,vars:3,consts:[["process","process.masterAction.GetProjects",3,"isLoading"]],template:function(t,n){1&t&&(h._UZ(0,"app-loading",0),h.ALo(1,"async")),2&t&&h.Q6J("isLoading",h.lcZ(1,1,n.isLoading))},directives:[l.N],pipes:[i.Ov],styles:[".logo[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;background-position:center;width:3rem;height:3rem}@media (max-width: 575.98px){.logo[_ngcontent-%COMP%]{width:2rem;height:2rem}}.text-overflow[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});var x=e(4540);class A{constructor(t){this.actionService=t}ngOnInit(){this.actionService.user.initialize({login:!1})}selectProject(){}}A.\u0275fac=function(t){return new(t||A)(h.Y36(u.cw))},A.\u0275cmp=h.Xpm({type:A,selectors:[["app-auth-signout"]],decls:7,vars:6,consts:[[1,"contents-width","mx-auto","px-3","py-5"],[1,"mb-4"],[1,"fs-3","mb-4","text-center","fw-bold"],[1,"mb-4","text-md-center",3,"innerHTML"]],template:function(t,n){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h2",2),h._uU(3),h.ALo(4,"translate"),h.qZA(),h._UZ(5,"p",3),h.ALo(6,"translate"),h.qZA(),h.qZA()),2&t&&(h.xp6(3),h.Oqu(h.lcZ(4,2,"auth.signout.title")),h.xp6(2),h.Q6J("innerHTML",h.lcZ(6,4,"auth.signout.read"),h.oJD))},pipes:[x.X$],styles:[""]});const L=[{path:"",children:[{path:"",component:f},{path:"signin",canActivate:[c.PP],component:y}]},{path:"",component:s.H,children:[{path:"signout",component:A}]}];class S{}S.\u0275fac=function(t){return new(t||S)},S.\u0275mod=h.oAB({type:S}),S.\u0275inj=h.cJS({imports:[[r.Bz.forChild(L)],r.Bz]});class Z{}Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=h.oAB({type:Z}),Z.\u0275inj=h.cJS({imports:[[i.ez,S,o.m]]})}}]);